<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Company Login</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg-primary: #fafaf9;
      --bg-secondary: #ffffff;
      --bg-tertiary: #f5f5f4;
      --text-primary: #1c1917;
      --text-secondary: #57534e;
      --text-tertiary: #a8a29e;
      --border-light: #e7e5e4;
      --border-medium: #d6d3d1;
      --accent-primary: #0f766e;
      --accent-secondary: #14b8a6;
      --accent-soft: #ccfbf1;
      --accent-glow: rgba(20, 184, 166, 0.15);
      --error: #ef4444;
      --success: #10b981;
      --glass-bg: rgba(255, 255, 255, 0.72);
      --glass-border: rgba(255, 255, 255, 0.55);
      --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 20px 40px rgba(15, 118, 110, 0.1);
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
      --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    body {
      min-height: 100vh;
      font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: var(--text-primary);
      background:
        radial-gradient(circle at 12% 18%, var(--accent-glow), transparent 35%),
        radial-gradient(circle at 90% 10%, rgba(15, 118, 110, 0.08), transparent 40%),
        linear-gradient(135deg, var(--bg-primary), var(--bg-tertiary));
      display: grid;
      place-items: center;
      padding: 20px;
    }

    .login-shell {
      width: 100%;
      max-width: 430px;
    }

    .brand {
      text-align: center;
      margin-bottom: 18px;
      font-size: 1.8rem;
      font-weight: 700;
      letter-spacing: -0.02em;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .card {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-xl);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      box-shadow: var(--shadow-lg);
      padding: 28px;
    }

    h1 {
      font-size: 1.45rem;
      letter-spacing: -0.01em;
      margin-bottom: 6px;
    }

    .subtitle {
      color: var(--text-secondary);
      font-size: 0.92rem;
      margin-bottom: 20px;
    }

    .field {
      margin-bottom: 14px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-size: 0.88rem;
      font-weight: 600;
      color: var(--text-secondary);
    }

    input {
      width: 100%;
      border: 1px solid var(--border-light);
      border-radius: var(--radius-md);
      background: rgba(255, 255, 255, 0.92);
      color: var(--text-primary);
      font-size: 0.95rem;
      padding: 11px 12px;
      transition: border-color var(--transition-base), box-shadow var(--transition-base);
    }

    input::placeholder {
      color: var(--text-tertiary);
    }

    input:focus {
      outline: none;
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 4px rgba(20, 184, 166, 0.14);
    }

    .btn {
      width: 100%;
      border: none;
      border-radius: var(--radius-md);
      padding: 12px;
      margin-top: 4px;
      font-size: 0.95rem;
      font-weight: 600;
      color: #ffffff;
      cursor: pointer;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      box-shadow: var(--shadow-md);
      transition: transform var(--transition-base), box-shadow var(--transition-base);
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 26px rgba(15, 118, 110, 0.24);
    }

    .message {
      min-height: 20px;
      margin-top: 10px;
      font-size: 0.85rem;
      color: var(--error);
    }

    .message.success {
      color: var(--success);
    }

    .extras {
      margin-top: 10px;
      display: grid;
      gap: 8px;
      text-align: center;
    }

    .extras a {
      font-size: 0.86rem;
      color: var(--accent-primary);
      text-decoration: none;
      font-weight: 500;
      transition: color var(--transition-base);
    }

    .extras a:hover {
      color: var(--accent-secondary);
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <main class="login-shell">
    <div class="brand">TenderAI</div>

    <section class="card" aria-label="Login form">
      <h1>Company Sign In</h1>
      <p class="subtitle">Use your registered email and password to continue.</p>

      <form id="loginForm" method="POST" action="{% url 'company_login' %}">
        {% csrf_token %}
        
        {% if messages %}
          {% for message in messages %}
            <div class="message {% if message.tags == 'success' %}success{% endif %}" style="margin-bottom: 15px; padding: 10px; border-radius: var(--radius-md); background: {% if message.tags == 'success' %}rgba(16, 185, 129, 0.1){% else %}rgba(239, 68, 68, 0.1){% endif %};">
              {{ message }}
            </div>
          {% endfor %}
        {% endif %}

        <div class="field">
          <label for="email">Email Address</label>
          <input 
            id="email" 
            name="email" 
            type="email" 
            placeholder="company@example.com" 
            value="{{ request.POST.email }}"
            required 
          />
        </div>

        <div class="field">
          <label for="password">Password</label>
          <input 
            id="password" 
            name="password" 
            type="password" 
            placeholder="Enter your password" 
            required 
          />
        </div>

        <button class="btn" type="submit">Login</button>
        <p class="message" id="clientMessage" aria-live="polite"></p>

        <div class="extras">
          <a href="{% url 'password_reset' %}">Forgot password?</a>
          <a href="{% url 'bidder_register' %}">Don't have an account? Register as company</a>
          <a href="{% url 'login' %}" style="color: var(--text-secondary);">Officer Login â†’</a>
        </div>
      </form>
    </section>
  </main>

  <script>
    const form = document.getElementById("loginForm");
    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");
    const clientMessage = document.getElementById("clientMessage");

    // Client-side validation
    form.addEventListener("submit", (event) => {
      clientMessage.textContent = "";
      clientMessage.classList.remove("success");

      if (!emailInput.value.trim()) {
        event.preventDefault();
        clientMessage.textContent = "Please enter your email address.";
        emailInput.focus();
        return;
      }

      if (!passwordInput.value.trim()) {
        event.preventDefault();
        clientMessage.textContent = "Please enter your password.";
        passwordInput.focus();
        return;
      }

      if (passwordInput.value.length < 6) {
        event.preventDefault();
        clientMessage.textContent = "Password must be at least 6 characters.";
        passwordInput.focus();
        return;
      }

      // If validation passes, form submits normally to Django backend
    });
  </script>
</body>
</html>